{"version":3,"sources":["icons/st-arrow.svg","icons/st-clear.svg","styling.tsx","Searchbox.tsx","index.tsx"],"names":["_path","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","props","createElement","viewBox","ref","d","ForwardRef","forwardRef","fillRule","clipRule","SearchboxStyle","theme","_classCallCheck","label","select","color","textColor","fontSize","fontWeight","font","marginBottom","menuList","styles","_objectSpread","backgroundColor","input","singleValue","placeholder","fadedText60","control","isFocused","secondaryBackgroundColor","border","primaryColor","boxShadow","option","_ref2","isDisabled","isSelected","undefined","cursor","buildStyleSelect","_createClass","value","menu","React","Dropdown","width","height","fill","style","marginRight","_props$innerProps","innerProps","restInnerProps","Clear","streamlitReturn","interaction","Streamlit","setComponentValue","Searchbox","_StreamlitComponentBa","_inherits","_super","_createSuper","_this","_len","args","Array","_key","concat","state","createRef","onSearchInput","_","setState","render","Select","isClearable","isSearchable","options","components","ClearIndicator","clearIndicator","DropdownIndicator","iconDropdown","IndicatorSeparator","filterOption","__","onChange","e","onInputSelection","onInputChange","a","onMenuOpen","onMenuClose","menuIsOpen","callbackSubmit","callbackReset","clear_on_submit","current","clearValue","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70ce7f5a.chunk.js","sourcesContent":["var _path;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgStArrow = function SvgStArrow(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.7071 15.2929L17.1464 10.8536C17.4614 10.5386 17.2383 10 16.7929 10L7.20711 10C6.76165 10 6.53857 10.5386 6.85355 10.8536L11.2929 15.2929C11.6834 15.6834 12.3166 15.6834 12.7071 15.2929Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/st-arrow.9f06d2cd.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgStClear = function SvgStClear(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 20C16.4183 20 20 16.4183 20 12C20 7.58173 16.4183 4 12 4C7.58173 4 4 7.58173 4 12C4 16.4183 7.58173 20 12 20ZM10.0303 8.96967C9.73743 8.67679 9.26257 8.67679 8.96967 8.96967C8.67676 9.26257 8.67676 9.73743 8.96967 10.0303L10.9393 12L8.96967 13.9697C8.67676 14.2626 8.67676 14.7374 8.96967 15.0303C9.26257 15.3232 9.73743 15.3232 10.0303 15.0303L12 13.0607L13.9697 15.0303C14.2626 15.3232 14.7374 15.3232 15.0303 15.0303C15.3232 14.7374 15.3232 14.2626 15.0303 13.9697L13.0607 12L15.0303 10.0303C15.3232 9.73743 15.3232 9.26257 15.0303 8.96967C14.7374 8.67679 14.2626 8.67679 13.9697 8.96967L12 10.9393L10.0303 8.96967Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStClear, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/st-clear.45da9505.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\r\nimport {\r\n  CSSObjectWithLabel,\r\n  StylesConfig,\r\n  ControlProps,\r\n  OptionProps,\r\n} from \"react-select\"\r\n\r\nimport { ReactComponent as Dropdown } from \"./icons/st-arrow.svg\"\r\nimport { ReactComponent as Clear } from \"./icons/st-clear.svg\"\r\n\r\nclass SearchboxStyle {\r\n  theme: any\r\n  label: any\r\n  select: StylesConfig\r\n\r\n  constructor(theme: any) {\r\n    this.theme = theme\r\n    this.label = {\r\n      color: theme.textColor,\r\n      fontSize: \"0.82em\",\r\n      fontWeight: 400,\r\n      font: theme.font,\r\n      marginBottom: \"0.85rem\",\r\n    }\r\n\r\n    this.select = buildStyleSelect(theme)\r\n  }\r\n\r\n  /**\r\n   * Dropdown icon, adjusted if menu is open\r\n   * @param menu\r\n   * @returns\r\n   */\r\n  iconDropdown(menu: boolean) {\r\n    return (\r\n      <div>\r\n        <Dropdown\r\n          // streamlit has fixed icon sizes at 15x15\r\n          width={15}\r\n          height={15}\r\n          fill={this.theme.textColor}\r\n          style={{\r\n            marginRight: menu ? \"7px\" : \"8px\",\r\n            marginBottom: menu ? \"0px\" : \"3px\",\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Clear icon, props are passed by react-select\r\n   * @param props\r\n   * @returns\r\n   */\r\n  clearIndicator(props: any) {\r\n    const {\r\n      innerProps: { ref, ...restInnerProps },\r\n    } = props\r\n\r\n    return (\r\n      <Clear\r\n        {...restInnerProps}\r\n        ref={ref}\r\n        fill={this.theme.fadedText60}\r\n        // streamlit has fixed icon sizes at 15x15\r\n        width={15}\r\n        height={15}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nfunction buildStyleSelect(theme: any): any {\r\n  return {\r\n    // overall option list\r\n    menuList: (styles: any) => ({\r\n      ...styles,\r\n      backgroundColor: theme.backgroundColor,\r\n    }),\r\n    // filler text and icons\r\n    input: (styles: any) => ({ ...styles, color: theme.textColor }),\r\n    //\r\n    singleValue: (styles: any) => ({\r\n      ...styles,\r\n      color: theme.textColor,\r\n    }),\r\n    // placeholder text\r\n    placeholder: (styles: any) => ({\r\n      ...styles,\r\n      color: theme.fadedText60,\r\n    }),\r\n    // searchbox and others, e.g. options window\r\n    control: (styles: CSSObjectWithLabel, { isFocused }: ControlProps) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: theme.secondaryBackgroundColor,\r\n        color: theme.secondaryBackgroundColor,\r\n        border: !isFocused\r\n          ? \"1px transparent\"\r\n          : \"1px solid \" + theme.primaryColor,\r\n        boxShadow: \"none\",\r\n        \"&:hover\": {\r\n          border: !isFocused\r\n            ? \"1px transparent\"\r\n            : \"1px solid \" + theme.primaryColor,\r\n        },\r\n      }\r\n    },\r\n    // single cell in option list\r\n    option: (\r\n      styles: CSSObjectWithLabel,\r\n      { isDisabled, isFocused, isSelected }: OptionProps\r\n    ) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled\r\n          ? undefined\r\n          : isSelected\r\n          ? theme.secondaryBackgroundColor\r\n          : isFocused\r\n          ? theme.secondaryBackgroundColor\r\n          : theme.backgroundColor,\r\n        // option text\r\n        color: theme.textColor,\r\n        cursor: isDisabled ? \"not-allowed\" : \"Search ...\",\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nexport default SearchboxStyle\r\n","import {\r\n  Streamlit,\r\n  StreamlitComponentBase,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\"\r\nimport React, { ReactNode } from \"react\"\r\nimport Select from \"react-select\"\r\n\r\nimport SearchboxStyle from \"./styling\"\r\n\r\ninterface State {\r\n  menu: boolean\r\n}\r\n\r\ninterface StreamlitReturn {\r\n  interaction: \"submit\" | \"search\" | \"reset\"\r\n  value: any\r\n}\r\n\r\nexport function streamlitReturn(interaction: string, value: any): void {\r\n  Streamlit.setComponentValue({\r\n    interaction: interaction,\r\n    value: value,\r\n  } as StreamlitReturn)\r\n}\r\n\r\nclass Searchbox extends StreamlitComponentBase<State> {\r\n  public state = { menu: false }\r\n\r\n  private style = new SearchboxStyle(this.props.theme!)\r\n  private ref: any = React.createRef()\r\n\r\n  /**\r\n   * new keystroke on searchbox\r\n   * @param input\r\n   * @param _\r\n   * @returns\r\n   */\r\n  private onSearchInput = (input: string, _: any): void => {\r\n    // happens on selection\r\n    if (input.length === 0) {\r\n      this.setState({ menu: false })\r\n      return\r\n    }\r\n\r\n    streamlitReturn(\"search\", input)\r\n  }\r\n\r\n  /**\r\n   * input was selected from dropdown or focus changed\r\n   * @param option\r\n   * @returns\r\n   */\r\n  private onInputSelection(option: any): void {\r\n    // clear selection (X)\r\n    if (option === null) {\r\n      this.callbackReset()\r\n      return\r\n    }\r\n\r\n    this.callbackSubmit(option)\r\n  }\r\n\r\n  /**\r\n   * reset button was clicked\r\n   */\r\n  private callbackReset(): void {\r\n    this.setState({\r\n      menu: false,\r\n    })\r\n    streamlitReturn(\"reset\", null)\r\n  }\r\n\r\n  /**\r\n   * submitted selection, clear optionally\r\n   * @param option\r\n   */\r\n  private callbackSubmit(option: any) {\r\n    streamlitReturn(\"submit\", option.value)\r\n\r\n    if (this.props.args.clear_on_submit) {\r\n      this.ref.current.select.clearValue()\r\n    } else {\r\n      this.setState({\r\n        menu: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * show searchbox with label on top\r\n   * @returns\r\n   */\r\n  public render = (): ReactNode => {\r\n    return (\r\n      <div>\r\n        {this.props.args.label ? (\r\n          <div style={this.style.label}>{this.props.args.label}</div>\r\n        ) : null}\r\n        <Select\r\n          // dereference on clear\r\n          ref={this.ref}\r\n          isClearable={true}\r\n          isSearchable={true}\r\n          styles={this.style.select}\r\n          options={this.props.args.options}\r\n          placeholder={this.props.args.placeholder}\r\n          // component overrides\r\n          components={{\r\n            ClearIndicator: (props) => this.style.clearIndicator(props),\r\n            DropdownIndicator: () => this.style.iconDropdown(this.state.menu),\r\n            IndicatorSeparator: () => <div></div>,\r\n          }}\r\n          // handlers\r\n          filterOption={(_, __) => true}\r\n          onChange={(e) => this.onInputSelection(e)}\r\n          onInputChange={(e, a) => this.onSearchInput(e, a)}\r\n          onMenuOpen={() => this.setState({ menu: true })}\r\n          onMenuClose={() => this.setState({ menu: false })}\r\n          menuIsOpen={this.props.args.options && this.state.menu}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withStreamlitConnection(Searchbox)\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Searchbox from \"./Searchbox\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Searchbox />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}